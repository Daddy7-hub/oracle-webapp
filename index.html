<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>CryptoATM.tech ‚Äî Shop</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
  :root{
    --bg:#0b0b0d; --panel:#0f1013; --card:#121318; --txt:#f4f4f6; --muted:#a7abb5;
    --gold:#d6b66b; --gold2:#b9954b; --bord:1px solid rgba(255,255,255,.08);
    --r:16px;
  }
  *{box-sizing:border-box}
  body{margin:0;background:radial-gradient(1200px 600px at 80% -10%,rgba(214,182,107,.08),transparent),var(--bg);color:var(--txt);font:14px/1.55 Inter,system-ui,Segoe UI,Roboto,sans-serif}
  .wrap{max-width:1040px;margin:0 auto;padding:16px}
  header{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border:var(--bord);border-radius:20px;background:linear-gradient(180deg,rgba(214,182,107,.08),rgba(255,255,255,.02))}
  .brand{display:flex;gap:12px;align-items:center}
  .logo{width:42px;height:42px;border-radius:12px;background:conic-gradient(from 210deg,#3a2c10,#d6b66b,#b9954b,#3a2c10)}
  .brand h1{margin:0;font-size:18px;letter-spacing:0.3px}
  .brand p{margin:0;color:var(--muted);font-size:12px}
  .chips{display:flex;gap:8px;flex-wrap:wrap}
  .chip{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border:var(--bord);border-radius:999px;background:#111116}
  .tabs{display:flex;gap:8px;margin:14px 0 16px;flex-wrap:wrap}
  .tab{border:var(--bord);border-radius:12px;background:#111116;color:var(--txt);padding:8px 12px;font-weight:700;cursor:pointer}
  .tab.active{background:linear-gradient(135deg,rgba(214,182,107,.25),rgba(255,255,255,.06))}
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
  .col-12{grid-column:span 12}.col-6{grid-column:span 6}.col-4{grid-column:span 4}
  @media(max-width:980px){.col-6,.col-4{grid-column:span 12}}
  .card{background:var(--card);border:var(--bord);border-radius:20px;padding:14px}
  .h{margin:0 0 8px}.muted{color:var(--muted)}
  .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  .btn{appearance:none;border:0;border-radius:12px;padding:10px 12px;font-weight:800;cursor:pointer}
  .btn.primary{background:linear-gradient(135deg,var(--gold),var(--gold2));color:#0b0b0d}
  .btn.ghost{background:transparent;border:1px dashed rgba(214,182,107,.55);color:var(--txt)}
  .btn.small{padding:7px 10px;border-radius:10px}
  input,select{width:100%;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.1);background:#0f1013;color:var(--txt)}
  .line{display:flex;align-items:center;justify-content:space-between;border-top:1px dashed rgba(255,255,255,.12);padding-top:10px;margin-top:10px}
  .kpi{display:flex;gap:12px;flex-wrap:wrap}
  .kpi .chip{background:linear-gradient(180deg,rgba(214,182,107,.08),rgba(255,255,255,.03))}
  .note{background:rgba(214,182,107,.12);border:1px solid rgba(214,182,107,.35);border-radius:12px;padding:10px;color:#f7e9c4}
  .modal{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:flex-end;justify-content:center;z-index:50}
  .modal.show{display:flex}
  .sheet{background:#0f1013;width:min(100%,900px);border:var(--bord);border-radius:20px 20px 0 0;padding:14px}
  .price{font-weight:900;color:#f1d58a}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo"></div>
      <div>
        <h1>CryptoATM.tech</h1>
        <p>–ü–æ–¥–ø–∏—Å–∫–∏ ‚Ä¢ –ü–∞–∫–µ—Ç—ã ‚Ä¢ Copy-Trading ‚Ä¢ –†–µ—Ñ–µ—Ä–∞–ª—ã ‚Ä¢ ATM-—Å–∫–∏–¥–∫–∏</p>
      </div>
    </div>
    <div class="chips">
      <div class="chip">üë§ <b id="u-name">@guest</b></div>
      <div class="chip">ATM: <b id="u-atm">‚Äî</b></div>
      <button class="btn ghost small" onclick="askBalance()">–ü–æ–∫–∞–∑–∞—Ç—å –±–∞–ª–∞–Ω—Å</button>
    </div>
  </header>

  <div class="tabs">
    <button type="button" class="tab active" onclick="switchTab('shop')">üõç –ú–∞–≥–∞–∑–∏–Ω</button>
    <button type="button" class="tab" onclick="switchTab('tasks')">üß© –ó–∞–¥–∞–Ω–∏—è</button>
    <button type="button" class="tab" onclick="switchTab('ref')">üë• –†–µ—Ñ–µ—Ä–∞–ª—ã</button>
    <button type="button" class="tab" onclick="switchTab('faq')">‚ùì FAQ</button>
  </div>

  <!-- SHOP -->
  <section id="tab-shop" class="grid">
    <div class="col-12 card">
      <div class="row" style="justify-content:space-between">
        <div>
          <h3 class="h">–û—Ñ–æ—Ä–º–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É</h3>
          <p class="muted">–î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞(–æ–≤) –∏–ª–∏ –ø–∞–∫–µ—Ç. –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 3/6 –º–µ—Å —Å–æ —Å–∫–∏–¥–∫–æ–π. ATM-–±–∞–ª–ª—ã –¥–∞—é—Ç —Å–∫–∏–¥–∫—É –¥–æ 25% (100 ATM = ‚Ç¨1).</p>
        </div>
        <div class="row">
          <select id="duration" onchange="updateCartUI()">
            <option value="1">1 –º–µ—Å—è—Ü</option>
            <option value="3">3 –º–µ—Å—è—Ü–∞ (‚àí10%)</option>
            <option value="6">6 –º–µ—Å—è—Ü–µ–≤ (‚àí20%)</option>
          </select>
        </div>
      </div>
    </div>

    <div id="items" class="col-12 grid"></div>

    <div class="col-12 card">
      <h3 class="h">–ö–æ—Ä–∑–∏–Ω–∞</h3>
      <div id="cart-list" class="muted">–ü—É—Å—Ç–æ</div>
      <div class="line">
        <div class="kpi">
          <div class="chip">–°—É–º–º–∞: <span class="price">‚Ç¨<b id="sum-eur">0</b></span></div>
          <div class="chip">–°–ø–∏—Å–∞—Ç—å ATM: <input id="use-atm" type="number" min="0" step="100" value="0" style="width:120px"></div>
          <div class="chip">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: <b id="cap-info">–¥–æ 25%</b></div>
        </div>
        <div class="row">
          <button class="btn ghost small" onclick="clearCart()">–û—á–∏—Å—Ç–∏—Ç—å</button>
          <button class="btn primary" onclick="openCheckout()">–û—Ñ–æ—Ä–º–∏—Ç—å</button>
        </div>
      </div>
      <div class="note" style="margin-top:10px">Copy-Trading ‚Äî ‚Ç¨50/–º–µ—Å + % –æ—Ç –ø—Ä–∏–±—ã–ª–∏ (—É—Å–ª–æ–≤–∏—è –≤ —á–∞—Ç–µ —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º).</div>
    </div>
  </section>

  <!-- TASKS -->
  <section id="tab-tasks" class="grid" hidden>
    <div class="col-12 card">
      <h3 class="h">–ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å ATM-–±–∞–ª–ª—ã</h3>
      <div id="tasks" class="grid"></div>
      <div class="note" style="margin-top:10px">ATM-–±–∞–ª–ª—ã –º–æ–∂–Ω–æ —Ç—Ä–∞—Ç–∏—Ç—å –∫–∞–∫ —Å–∫–∏–¥–∫—É –¥–æ 25% –æ—Ç —Å—É–º–º—ã –∑–∞–∫–∞–∑–∞ (100 ATM = ‚Ç¨1).</div>
    </div>
  </section>

  <!-- REF -->
  <section id="tab-ref" class="grid" hidden>
    <div class="col-12 card">
      <h3 class="h">–†–µ—Ñ–µ—Ä–∞–ª—ã</h3>
      <div class="row">
        <div class="chip">–í–∞—à –∫–æ–¥: <b id="my-ref">REF0</b></div>
        <button class="btn ghost small" onclick="copyRef()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
      <div class="row" style="margin-top:10px">
        <input id="bind-code" placeholder="REF123456">
        <button class="btn primary" onclick="bindRef()">–ü—Ä–∏–≤—è–∑–∞—Ç—å –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—è</button>
      </div>
      <p class="muted" style="margin-top:10px">–ó–∞ –æ–ø–ª–∞—Ç—É –ø–æ–¥–ø–∏—Å–∫–∏ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã–º ‚Äî –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –±–æ–Ω—É—Å ATM. –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç ¬´–∫—Ç–æ –æ—Ç –∫–æ–≥–æ¬ª.</p>
    </div>
  </section>

  <!-- FAQ -->
  <section id="tab-faq" class="grid" hidden>
    <div class="col-12 card">
      <h3 class="h">FAQ</h3>
      <ul class="muted">
        <li>–ü–æ–¥–ø–∏—Å–∫–∏: –ø–æ –±–æ—Ç–∞–º –∏–ª–∏ –ø–∞–∫–µ—Ç–∞–º–∏ (Standard, Premium, Enterprise).</li>
        <li>Copy-Trading: ‚Ç¨50/–º–µ—Å + % –æ—Ç –ø—Ä–∏–±—ã–ª–∏ (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º).</li>
        <li>ATM-–±–∞–ª–ª—ã: –∑–∞–¥–∞—á–∏ –∏ —Ä–µ—Ñ–µ—Ä–∞–ª–∫–∞. 100 ATM = ‚Ç¨1; —Å–∫–∏–¥–∫–∞ –Ω–µ –±–æ–ª–µ–µ 25%.</li>
        <li>–û–ø–ª–∞—Ç–∞ –µ–≤—Ä–æ: –∞–¥–º–∏–Ω/–∫–æ–º–ø–∞–Ω–∏—è/–∫—Ä–∏–ø—Ç–æ, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤ —á–∞—Ç–µ.</li>
        <li>–í–æ–ø—Ä–æ—Å—ã ‚Äî —Å–º–µ–ª–æ –ø–∏—à–∏—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É (–æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ –±–æ—Ç–∞).</li>
      </ul>
    </div>
  </section>
</div>

<!-- Checkout sheet -->
<div class="modal" id="checkout">
  <div class="sheet">
    <div class="row" style="justify-content:space-between;align-items:center">
      <h3>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</h3>
      <button class="btn ghost small" onclick="closeCheckout()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
    <div id="co-items" class="muted" style="margin:6px 0">‚Äî</div>
    <div class="line">
      <div>
        –ö –æ–ø–ª–∞—Ç–µ: <span class="price">‚Ç¨<b id="co-eur">0</b></span>
        <div class="muted" id="co-line2">–°—É–º–º–∞ ‚Ç¨0 ‚Äî —Å–∫–∏–¥–∫–∞ ‚Ç¨0 (ATM)</div>
      </div>
      <div class="row">
        <button class="btn primary" onclick="sendCheckout()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
      </div>
    </div>
  </div>
</div>

<script>
  // ====== TG bridge
  let tg = null;
  function initTG(){
    tg = window.Telegram?.WebApp || null;
    if(tg){ tg.expand(); }
  }
  function sendData(obj){
    const payload = JSON.stringify(obj);
    if(tg && typeof tg.sendData==='function') tg.sendData(payload);
    else console.log('[offline send]', payload);
  }
  function toast(msg){
    if(tg?.showPopup) tg.showPopup({title:'',message:String(msg)});
    else alert(msg);
  }

  // ====== Catalog (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –±—ç–∫–æ–º)
  const ITEMS = [
    {type:'bot', code:'CRYPTO_ATM_BOT', name:'Crypto ATM Bot', eur:71, desc:'BTC-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞, —É—Ä–æ–≤–Ω–∏, —Å–∏–≥–Ω–∞–ª—ã'},
    {type:'bot', code:'ALERTS_BOT',     name:'Alerts Bot',     eur:71, desc:'–ö–∏—Ç—ã, –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏, funding'},
    {type:'bot', code:'NEWS_BOT',       name:'News Bot',       eur:71, desc:'–î–∞–π–¥–∂–µ—Å—Ç—ã, —Ñ–∏–ª—å—Ç—Ä—ã, —Å–≤–æ–¥–∫–∏'},
    {type:'pack',code:'STANDARD',       name:'Standard (3)',   eur:150,desc:'3 –±–æ—Ç–∞ –ø–æ —Å–ø–µ—Ü-—Ü–µ–Ω–µ'},
    {type:'pack',code:'PREMIUM',        name:'Premium (4)',    eur:191,desc:'–í—Å–µ –±–æ—Ç—ã, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏'},
    {type:'pack',code:'ENTERPRISE',     name:'Enterprise',     eur:249,desc:'–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç'},
    {type:'svc', code:'COPY_TRADE',     name:'Copy-Trading',   eur:50, desc:'‚Ç¨50/–º–µ—Å + % –æ—Ç –ø—Ä–∏–±—ã–ª–∏ (—É—Å–ª–æ–≤–∏—è —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º)'},
  ];

  // ====== State
  const state = {
    user:{ id:0, name:'guest' },
    cart:[], months:1,
  };

  const $ = s => document.querySelector(s);

  function switchTab(name){
    document.querySelectorAll('.tab').forEach(b=>b.classList.remove('active'));
    document.querySelectorAll('.tabs .tab').forEach(b=>{
      if(b.textContent.includes('–ú–∞–≥–∞–∑–∏–Ω') && name==='shop') b.classList.add('active');
      if(b.textContent.includes('–ó–∞–¥–∞–Ω–∏—è') && name==='tasks') b.classList.add('active');
      if(b.textContent.includes('–†–µ—Ñ–µ—Ä–∞–ª—ã') && name==='ref') b.classList.add('active');
      if(b.textContent.includes('FAQ') && name==='faq') b.classList.add('active');
    });
    document.querySelectorAll('section[id^="tab-"]').forEach(s=> s.hidden = (s.id!=='tab-'+name));
    if(name==='shop'){ renderItems(); updateCartUI(); }
    if(name==='tasks'){ renderTasks(); }
    if(name==='ref'){ $('#my-ref').textContent='REF'+(state.user.id||0); }
  }

  function renderItems(){
    const hold = $('#items'); hold.innerHTML='';
    ITEMS.forEach(it=>{
      const col = document.createElement('div');
      col.className = 'col-4 card';
      col.innerHTML = `
        <h3 class="h">${it.name}</h3>
        <p class="muted">${it.desc||''}</p>
        <div class="line">
          <div class="price">‚Ç¨${it.eur}/–º–µ—Å</div>
          <div class="row">
            <button class="btn ghost small" onclick="info('${it.code}')">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
            <button class="btn primary small" onclick="addToCart('${it.code}')">–í –∫–æ—Ä–∑–∏–Ω—É</button>
          </div>
        </div>`;
      hold.appendChild(col);
    });
  }
  function info(code){
    const it = ITEMS.find(x=>x.code===code); if(!it) return;
    toast(`${it.name}\n\n${it.desc||''}\n‚Ç¨${it.eur}/–º–µ—Å`);
  }
  function addToCart(code){
    const it = ITEMS.find(x=>x.code===code); if(!it) return;
    if(state.cart.some(x=>x.code===code)){ toast('–£–∂–µ –≤ –∫–æ—Ä–∑–∏–Ω–µ'); return; }
    state.cart.push({code:it.code,name:it.name,eur:it.eur});
    sendData({action:'cart_add', code});
    updateCartUI();
  }
  function removeFromCart(code){
    state.cart = state.cart.filter(x=>x.code!==code);
    sendData({action:'cart_remove', code});
    updateCartUI();
  }
  function clearCart(){
    state.cart = []; sendData({action:'cart_clear'}); updateCartUI();
  }
  function subtotal(){
    const base = state.cart.reduce((s,x)=>s + x.eur, 0);
    const months = parseInt($('#duration').value||'1',10);
    state.months = months;
    let disc = 0;
    if(months===3) disc = .10;
    if(months===6) disc = .20;
    const sum = Math.round(base * months * (1-disc));
    return sum;
  }
  function updateCartUI(){
    $('#sum-eur').textContent = String(subtotal());
    $('#cart-list').innerHTML = state.cart.length
      ? state.cart.map(x=>`
          <div class="line">
            <div>${x.name}</div>
            <div class="row">
              <span class="muted">‚Ç¨${x.eur}/–º–µ—Å</span>
              <button class="btn ghost small" onclick="removeFromCart('${x.code}')">—É–±—Ä–∞—Ç—å</button>
            </div>
          </div>`).join('')
      : '–ü—É—Å—Ç–æ';
  }

  function askBalance(){ sendData({action:'balance'}); }

  // ====== Checkout
  function openCheckout(){
    if(!state.cart.length) return toast('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞');
    const sum = subtotal();
    const wantATM = parseInt($('#use-atm').value||'0',10) || 0; // –±—ç–∫–µ–Ω–¥ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç 25% –∏ –±–∞–ª–∞–Ω—Å
    $('#co-eur').textContent = String(sum); // —Ñ–∏–Ω–∞–ª –ø–æ—Å—á–∏—Ç–∞–µ—Ç –±—ç–∫
    $('#co-items').innerHTML = state.cart.map(x=>`‚Ä¢ ${x.name}`).join('<br>') + `<br>–°—Ä–æ–∫: ${state.months}–º`;
    $('#co-line2').textContent = `–ó–∞–ø—Ä–æ—à–µ–Ω–æ —Å–ø–∏—Å–∞—Ç—å ATM: ${wantATM} (–±—ç–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç –ª–∏–º–∏—Ç 25% –∏ –≤–∞—à –±–∞–ª–∞–Ω—Å)`;
    $('#checkout').classList.add('show');
  }
  function closeCheckout(){ $('#checkout').classList.remove('show'); }
  function sendCheckout(){
    const items = state.cart.map(x=>x.code);
    const wantATM = parseInt($('#use-atm').value||'0',10) || 0;
    sendData({action:'checkout', items, months:state.months, use_atm: wantATM});
    // –æ—á–∏—â–∞–µ–º –ª–æ–∫–∞–ª—å–Ω–æ
    state.cart = []; updateCartUI(); $('#use-atm').value = 0; closeCheckout();
  }

  // ====== Tasks
  const TASKS = [
    {id:1, title:'–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ TikTok', reward:150, hint:'–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å'},
    {id:2, title:'–†–µ–ø–æ—Å—Ç –≤ —Å—Ç–æ—Ä–∏—Å', reward:120, hint:'–°—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç–æ—Ä–∏—Å'},
    {id:3, title:'–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞', reward:300, hint:'@username –¥—Ä—É–≥–∞'},
    {id:4, title:'–ù–∞–∫–ª–µ–π–∫–∞ –Ω–∞ –∞–≤—Ç–æ', reward:800, hint:'–§–æ—Ç–æ/—Å—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä—É—Ñ'},
    {id:5, title:'–û—Ç–∑—ã–≤', reward:200, hint:'–°—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ç–∑—ã–≤/—Å–∫—Ä–∏–Ω'},
  ];
  function renderTasks(){
    const hold = $('#tasks'); hold.innerHTML='';
    TASKS.forEach(t=>{
      const col = document.createElement('div');
      col.className = 'col-6 card';
      col.innerHTML = `
        <h3 class="h">#${t.id} ${t.title}</h3>
        <p class="muted">–ù–∞–≥—Ä–∞–¥–∞: +${t.reward} ATM</p>
        <input id="proof-${t.id}" placeholder="${t.hint}">
        <div class="line">
          <span class="muted">–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º</span>
          <button class="btn primary small" onclick="submitTask(${t.id})">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>`;
      hold.appendChild(col);
    });
  }
  function submitTask(id){
    const proof = ($('#proof-'+id).value||'').trim();
    if(!proof) return toast('–î–æ–±–∞–≤—å—Ç–µ –ø—Ä—É—Ñ');
    sendData({action:'task_submit', task_id:id, proof});
    $('#proof-'+id).value='';
    toast('–ó–∞–¥–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é');
  }

  // ====== Ref
  function copyRef(){
    const code = 'REF'+(state.user.id||0);
    navigator.clipboard?.writeText(code);
    toast('–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ: '+code);
  }
  function bindRef(){
    const code = ($('#bind-code').value||'').trim();
    if(!code) return toast('–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥');
    sendData({action:'ref_bind', code});
  }

  // ====== Boot
  function init(){
    initTG();
    const u = tg?.initDataUnsafe?.user;
    state.user.id = u?.id || 0;
    state.user.name = u?.username || 'guest';
    $('#u-name').textContent = '@'+state.user.name;
    $('#my-ref').textContent = 'REF'+(state.user.id||0);
    renderItems(); updateCartUI(); renderTasks();
  }
  document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
