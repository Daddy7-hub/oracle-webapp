<!doctype html><!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>CryptoATM.tech ‚Äî Mini App</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
  :root{
    --bg:#0b0d12; --panel:#121621; --card:#161b28; --muted:#9aa3b2; --txt:#e8edf4;
    --brand:#7c4dff; --acc:#00e5ff; --green:#27e1a7; --danger:#ff6a88; --gold:#ffd76a;
    --r-lg:14px; --r-xl:18px; --b1:1px solid rgba(255,255,255,.08);
  }
  *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--txt);font:14px/1.45 system-ui, -apple-system, Inter, Segoe UI, Roboto, sans-serif}
  .wrap{max-width:980px;margin:0 auto;padding:18px 14px 28px}
  header{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:12px;background:rgba(255,255,255,.03);border:var(--b1);border-radius:var(--r-xl)}
  .brand{display:flex;gap:10px;align-items:center}
  .logo{width:40px;height:40px;border-radius:12px;background:conic-gradient(from 210deg,var(--brand),var(--acc),var(--green),var(--brand))}
  .brand h1{margin:0;font-size:18px}
  .brand p{margin:0;color:var(--muted);font-size:12px}
  .pill{padding:6px 10px;background:rgba(124,77,255,.18);border:1px solid rgba(124,77,255,.4);border-radius:999px;font-weight:700;color:#d9ccff}
  .tabs{display:flex;flex-wrap:wrap;gap:8px;margin:12px 0 16px}
  .tab{border:var(--b1);border-radius:12px;background:#141927;color:var(--txt);padding:8px 12px;font-weight:700;cursor:pointer}
  .tab.active{background:linear-gradient(135deg,rgba(124,77,255,.2),rgba(0,229,255,.15))}
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
  .col-12{grid-column:span 12}.col-6{grid-column:span 6}.col-4{grid-column:span 4}
  @media(max-width:900px){.col-6,.col-4{grid-column:span 12}}
  .card{background:var(--card);border:var(--b1);border-radius:var(--r-xl);padding:14px}
  .card h3{margin:0 0 8px}.muted{color:var(--muted)}
  .btn{appearance:none;border:0;border-radius:12px;padding:10px 12px;font-weight:800;cursor:pointer}
  .btn.primary{background:linear-gradient(135deg,var(--acc),var(--green));color:#0b0d12}
  .btn.ghost{background:transparent;border:1px dashed rgba(255,255,255,.3);color:var(--txt)}
  .row{display:flex;gap:8px;flex-wrap:wrap}
  .price{font-weight:900}
  .chip{display:inline-flex;gap:6px;align-items:center;background:rgba(255,255,255,.05);border:var(--b1);border-radius:999px;padding:6px 10px}
  input,select{width:100%;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.1);background:#121726;color:var(--txt)}
  .line{display:flex;align-items:center;justify-content:space-between;border-top:1px dashed rgba(255,255,255,.1);padding-top:10px;margin-top:10px}
  .warn{background:rgba(255,106,136,.12);border:1px solid rgba(255,106,136,.35);border-radius:12px;padding:10px;color:#ffdbe4}
  .ok{background:rgba(39,225,167,.12);border:1px solid rgba(39,225,167,.35);border-radius:12px;padding:10px;color:#d9ffef}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo"></div>
      <div><h1>CryptoATM.tech</h1><p>–ü–æ–¥–ø–∏—Å–∫–∏ ‚Ä¢ –ú–æ–Ω–µ—Ç—ã ‚Ä¢ –†–µ—Ñ–µ—Ä–∞–ª—ã ‚Ä¢ –ó–∞–¥–∞–Ω–∏—è</p></div>
    </div>
    <div class="row">
      <div class="chip"><b id="u-name">@guest</b></div>
      <div class="chip">ATM: <b id="u-atm">0</b></div>
      <div class="chip">–ö–æ—Ä–∑–∏–Ω–∞: <b id="u-cart">0</b></div>
    </div>
  </header>

  <!-- Tabs -->
  <div class="tabs">
    <button class="tab active" data-tab="shop">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
    <button class="tab" data-tab="wallet">üí∞ –ö–æ—à–µ–ª—ë–∫</button>
    <button class="tab" data-tab="tasks">üß© –ó–∞–¥–∞–Ω–∏—è</button>
    <button class="tab" data-tab="ref">üë• –†–µ—Ñ–µ—Ä–∞–ª—ã</button>
    <button class="tab" data-tab="raffle">üèÜ –†–æ–∑—ã–≥—Ä—ã—à</button>
    <button class="tab" data-tab="faq">‚ùì FAQ</button>
  </div>

  <!-- SHOP -->
  <section id="tab-shop" class="grid">
    <div class="col-12 card">
      <h3>–¢–∞—Ä–∏—Ñ—ã</h3>
      <p class="muted">–î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞(–æ–≤) –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–∞–∫–µ—Ç.</p>
    </div>
    <div id="tariffs" class="col-12 grid"></div>

    <div class="col-12 card">
      <h3>–ö–æ—Ä–∑–∏–Ω–∞</h3>
      <div id="cart-list" class="muted">–ü—É—Å—Ç–æ</div>
      <div class="line">
        <div>–ò—Ç–æ–≥–æ: <span class="price">‚Ç¨<span id="cart-total">0</span></span> ‚Ä¢ –∏–ª–∏ <span class="price"><span id="cart-total-atm">0</span> ATM</span></div>
        <div class="row">
          <button class="btn ghost" onclick="clearCart()">–û—á–∏—Å—Ç–∏—Ç—å</button>
          <button class="btn primary" onclick="checkout('eur')">–û–ø–ª–∞—Ç–∏—Ç—å ‚Ç¨</button>
          <button class="btn primary" onclick="checkout('atm')">–û–ø–ª–∞—Ç–∏—Ç—å ATM</button>
        </div>
      </div>
      <div class="warn" style="margin-top:10px">–û–ø–ª–∞—Ç–∞ ATM —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º —Å–æ–±—Ä–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ ‚Äî –ø–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –º–æ–Ω–µ—Ç—ã —Ü–µ–Ω–Ω—ã –¥–ª—è —Ä–æ–∑—ã–≥—Ä—ã—à–∞.</div>
    </div>
  </section>

  <!-- WALLET -->
  <section id="tab-wallet" class="grid" hidden>
    <div class="col-12 card">
      <h3>–ë–∞–ª–∞–Ω—Å ATM</h3>
      <div class="row">
        <div class="chip">–ë–∞–ª–∞–Ω—Å: <b id="atm-balance">0</b></div>
        <div class="chip">–°–µ–≥–æ–¥–Ω—è –∫–ª–∏–∫–µ—Ä: <b id="atm-tap-left">100</b></div>
      </div>
      <div class="line">
        <div class="row">
          <button class="btn primary" onclick="dailyClaim()">–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞ +1</button>
          <button class="btn ghost" onclick="tapOnce()">–¢–∞–ø–Ω—É—Ç—å +1 (–ª–∏–º–∏—Ç)</button>
        </div>
        <div class="row">
          <input id="buy-usdt" type="number" value="25" min="5" step="1" placeholder="–°—É–º–º–∞ USDT">
          <select id="buy-chain">
            <option value="TRC20">TRC20</option><option value="BEP20">BEP20</option><option value="ERC20">ERC20</option>
          </select>
          <button class="btn primary" onclick="buyATM()">–ö—É–ø–∏—Ç—å ATM</button>
        </div>
      </div>
      <div class="ok" id="wallet-log" style="margin-top:10px">–õ–æ–≥–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å.</div>
    </div>
  </section>

  <!-- TASKS -->
  <section id="tab-tasks" class="grid" hidden>
    <div class="col-12 card">
      <h3>–ó–∞–¥–∞–Ω–∏—è</h3>
      <div id="tasks" class="grid"></div>
    </div>
  </section>

  <!-- REF -->
  <section id="tab-ref" class="grid" hidden>
    <div class="col-12 card">
      <h3>–†–µ—Ñ–µ—Ä–∞–ª—ã</h3>
      <p class="muted">–í–∞—à –∫–æ–¥: <b id="ref-my">REF0</b></p>
      <div class="row">
        <input id="ref-code" placeholder="REF123456">
        <button class="btn primary" onclick="bindRef()">–ü—Ä–∏–≤—è–∑–∞—Ç—å</button>
      </div>
      <div class="ok" style="margin-top:10px">–ó–∞ –æ–ø–ª–∞—Ç—É –ø–æ–¥–ø–∏—Å–∫–∏ –¥—Ä—É–≥–æ–º –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ ATM.</div>
    </div>
  </section>

  <!-- RAFFLE -->
  <section id="tab-raffle" class="grid" hidden>
    <div class="col-12 card">
      <h3>–†–æ–∑—ã–≥—Ä—ã—à</h3>
      <p class="muted">–®–∞–Ω—Å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—à–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞ ATM. –£—á–∞—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–≤—à–∏–µ —É—á–∞—Å—Ç–∏–µ.</p>
      <button class="btn primary" onclick="raffleOptIn()">–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å</button>
      <div class="ok" id="raffle-log" style="margin-top:10px">–°—Ç–∞—Ç—É—Å —É—á–∞—Å—Ç–∏—è –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å.</div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="tab-faq" class="grid" hidden>
    <div class="col-12 card">
      <h3>FAQ</h3>
      <ul class="muted">
        <li>–ü–æ–¥–ø–∏—Å–∫–∏: –ø–æ–º–µ—Å—è—á–Ω–æ –ø–æ –∫–∞–∂–¥–æ–º—É –±–æ—Ç—É –∏–ª–∏ –ø–∞–∫–µ—Ç—ã Premium/Enterprise.</li>
        <li>–û–ø–ª–∞—Ç–∞: ‚Ç¨ –∏–ª–∏ ATM-–º–æ–Ω–µ—Ç—ã. –ü–æ–∫—É–ø–∫–∞ ATM ‚Äî USDT (TRC20/BEP20/ERC20).</li>
        <li>–†–µ—Ñ–µ—Ä–∞–ª—ã: –∫–æ–¥ REF&lt;–≤–∞—àID&gt; + –±–æ–Ω—É—Å—ã –∑–∞ –æ–ø–ª–∞—Ç—É –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã—Ö.</li>
        <li>–ó–∞–¥–∞–Ω–∏—è: –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ –ø—Ä—É—Ñ; –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–Ω–µ—Ç—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è.</li>
        <li>–†–æ–∑—ã–≥—Ä—ã—à: —Ä–∞–∑ –≤ –º–µ—Å—è—Ü, –≤–µ—Å ‚àù –≤–∞—à–µ–º—É –±–∞–ª–∞–Ω—Å—É ATM.</li>
      </ul>
    </div>
  </section>
</div>

<script>
  const tg = window.Telegram?.WebApp;
  if (tg){ tg.expand(); }

  // ===== –î–∞–Ω–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∞ (–º–æ–∂–Ω–æ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞—Ç—å —Å –±—ç–∫–∞ –ø–æ–∑–∂–µ)
  const ITEMS = [
    {type:'bot', code:'ATM_FINDER', name:'Crypto ATM Finder', price_eur:15, price_atm:600, desc:'–ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–∏—Ö –∫—Ä–∏–ø—Ç–æ-ATM.'},
    {type:'bot', code:'P2P_GUARD',  name:'P2P Guard',         price_eur:15, price_atm:600, desc:'–ü—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∞–Ω—Ç–∏-—Ñ—Ä–æ–¥ –≤ P2P.'},
    {type:'bot', code:'AUTOPAY',    name:'AutoPay Script',    price_eur:19, price_atm:800, desc:'–°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–µ–π.'},
    {type:'pack',code:'PREMIUM',    name:'Premium (–≤—Å–µ –±–æ—Ç—ã)', price_eur:39, price_atm:1600, desc:'–í—Å–µ –±–æ—Ç—ã. –õ—É—á—à–µ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ.'},
    {type:'pack',code:'ENTERPRISE', name:'Enterprise',         price_eur:79, price_atm:3600, desc:'–í—Å–µ –±–æ—Ç—ã + –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç + –±–æ–Ω—É—Å—ã.'},
  ];

  const TASKS = [
    {id:1, title:'–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ Instagram', reward:10, type:'link', hint:'–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å'},
    {id:2, title:'–†–µ–ø–æ—Å—Ç —Å—Ç–æ—Ä–∏—Å',         reward:15, type:'link', hint:'–°—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç–æ—Ä–∏—Å'},
    {id:3, title:'–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞',      reward:25, type:'text', hint:'@username –¥—Ä—É–≥–∞'},
  ];

  // ===== –°–æ—Å—Ç–æ—è–Ω–∏–µ (–ª–æ–∫–∞–ª—å–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è –≤–Ω–µ Telegram)
  const state = {
    user: { id: tg?.initDataUnsafe?.user?.id || 0, name: tg?.initDataUnsafe?.user?.username || 'guest' },
    atm: 0, cart: [], taps_left: 100, daily_claimed: false
  };

  // ===== UI helpers
  const $ = sel => document.querySelector(sel);

  function toast(text){ console.log('[toast]', text); }

  // ===== render: —Ç–∞—Ä–∏—Ñ—ã
  function renderTariffs(){
    const holder = $('#tariffs'); holder.innerHTML = '';
    ITEMS.forEach(it=>{
      const col = document.createElement('div');
      col.className = 'col-4 card';
      col.innerHTML = `
        <h3>${it.name}</h3>
        <p class="muted">${it.desc}</p>
        <div class="row">
          <span class="chip">‚Ç¨ <b>${it.price_eur}</b>/–º–µ—Å</span>
          <span class="chip"><b>${it.price_atm}</b> ATM</span>
        </div>
        <div class="line">
          <span class="muted">${it.type==='pack'?'–ø–∞–∫–µ—Ç':'–±–æ—Ç'}</span>
          <button class="btn primary" onclick="addToCart('${it.code}')">–í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>`;
      holder.appendChild(col);
    });
  }

  function addToCart(code){
    const item = ITEMS.find(x=>x.code===code);
    if(!item) return;
    // –í –∫–æ—Ä–∑–∏–Ω–µ –¥–æ–ø—É—Å–∫–∞–µ–º —Ç–æ–ª—å–∫–æ 1 –ø–æ–∑–∏—Ü–∏—é –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ (–º–µ—Å—è—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞)
    if(state.cart.some(x=>x.code===code)){ toast('–£–∂–µ –≤ –∫–æ—Ä–∑–∏–Ω–µ'); return; }
    state.cart.push({ code: item.code, name:item.name, price_eur:item.price_eur, price_atm:item.price_atm });
    updateCartUI();
    // –≤ TG –æ—Ç–ø—Ä–∞–≤–∏–º —Å–æ–±—ã—Ç–∏–µ
    sendData({ action:'cart_add', code });
  }

  function removeFromCart(code){
    state.cart = state.cart.filter(x=>x.code!==code);
    updateCartUI();
    sendData({ action:'cart_remove', code });
  }

  function clearCart(){
    state.cart = []; updateCartUI();
    sendData({ action:'cart_clear' });
  }

  function updateCartUI(){
    $('#u-cart').textContent = String(state.cart.length);
    const list = $('#cart-list');
    if(state.cart.length===0){ list.textContent='–ü—É—Å—Ç–æ'; }
    else{
      list.innerHTML = state.cart.map(x=>`
        <div class="line">
          <div>${x.name}</div>
          <div class="row">
            <span class="muted">‚Ç¨${x.price_eur} / ${x.price_atm} ATM</span>
            <button class="btn ghost" onclick="removeFromCart('${x.code}')">—É–±—Ä–∞—Ç—å</button>
          </div>
        </div>`).join('');
    }
    const totalE = state.cart.reduce((s,x)=>s+x.price_eur,0);
    const totalA = state.cart.reduce((s,x)=>s+x.price_atm,0);
    $('#cart-total').textContent = totalE;
    $('#cart-total-atm').textContent = totalA;
  }

  function checkout(method){
    if(state.cart.length===0) return toast('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞');
    const payload = { action:'checkout', method, items: state.cart.map(x=>x.code) };
    sendData(payload);
    if(!tg){ // –æ—Ñ—Ñ–ª–∞–π–Ω-–¥–µ–º–æ
      if(method==='atm'){
        const need = state.cart.reduce((s,x)=>s+x.price_atm,0);
        if(state.atm>=need){ state.atm -= need; updateATMUI(); toast('–°–ø–∏—Å–∞–ª–∏ ATM (–¥–µ–º–æ)'); clearCart(); }
        else toast('–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç ATM (–¥–µ–º–æ)');
      }else{
        toast('–í—ã—Å–ª–∞–Ω —Å—á—ë—Ç –≤ ‚Ç¨ (–¥–µ–º–æ)');
        clearCart();
      }
    }
  }

  // ===== Wallet
  function updateATMUI(){
    $('#u-atm').textContent = String(state.atm);
    $('#atm-balance').textContent = String(state.atm);
    $('#atm-tap-left').textContent = String(state.taps_left);
  }
  function dailyClaim(){
    sendData({ action:'daily_claim' });
    if(!tg){
      if(!state.daily_claimed){ state.daily_claimed = true; state.atm += 1; updateATMUI(); toast('–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π +1 (–¥–µ–º–æ)'); }
      else toast('–°–µ–≥–æ–¥–Ω—è —É–∂–µ –ø–æ–ª—É—á–µ–Ω–æ (–¥–µ–º–æ)');
    }
  }
  function tapOnce(){
    sendData({ action:'tap' });
    if(!tg){
      if(state.taps_left>0){ state.taps_left -= 1; state.atm += 1; updateATMUI(); }
      else toast('–õ–∏–º–∏—Ç –∫–ª–∏–∫–æ–≤ –∏—Å—á–µ—Ä–ø–∞–Ω (–¥–µ–º–æ)');
    }
  }
  function buyATM(){
    const usdt = parseInt($('#buy-usdt').value||'0',10), chain = $('#buy-chain').value;
    if(!usdt || usdt<5) return toast('–ú–∏–Ω. 5 USDT');
    sendData({ action:'buy_atm', usdt, chain });
    if(!tg){ toast(`–°–æ–∑–¥–∞–Ω–∞ –∑–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É ${usdt} USDT (${chain}) ‚Äî —Å–º. —á–∞—Ç (–¥–µ–º–æ)`); }
  }

  // ===== Tasks
  function renderTasks(){
    const holder = $('#tasks'); holder.innerHTML = '';
    TASKS.forEach(t=>{
      const col = document.createElement('div'); col.className='col-6 card';
      col.innerHTML = `
        <h3>#${t.id} ${t.title}</h3>
        <p class="muted">–ù–∞–≥—Ä–∞–¥–∞: <b>+${t.reward} ATM</b></p>
        <input id="proof-${t.id}" placeholder="${t.hint}">
        <div class="line">
          <span class="muted">–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º</span>
          <button class="btn primary" onclick="submitTask(${t.id})">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>`;
      holder.appendChild(col);
    });
  }
  function submitTask(id){
    const proof = ($('#proof-'+id).value||'').trim();
    if(!proof) return toast('–î–æ–±–∞–≤—å—Ç–µ –ø—Ä—É—Ñ');
    sendData({ action:'task_submit', task_id:id, proof });
    if(!tg){ toast('–ó–∞–¥–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ (–¥–µ–º–æ). –ù–∞—á–∏—Å–ª–∏—Ç –º–æ–¥–µ—Ä–∞—Ç–æ—Ä'); $('#proof-'+id).value=''; }
  }

  // ===== Referral
  function bindRef(){
    const code = ($('#ref-code').value||'').trim();
    if(!code) return toast('–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥');
    sendData({ action:'ref_bind', code });
    if(!tg){ toast('–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω (–¥–µ–º–æ)'); }
  }

  // ===== Raffle
  function raffleOptIn(){
    sendData({ action:'raffle_optin' });
    if(!tg){ $('#raffle-log').textContent='–í—ã —É—á–∞—Å—Ç–≤—É–µ—Ç–µ (–¥–µ–º–æ)'; }
  }

  // ===== sendData —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ
  function sendData(obj){
    const payload = JSON.stringify(obj);
    if(tg && typeof tg.sendData === 'function'){ tg.sendData(payload); }
    else console.log('[offline send]', payload);
  }

  // ===== –ù–∞–≤–∏–≥–∞—Ü–∏—è
  document.querySelectorAll('.tab').forEach(b=>{
    b.addEventListener('click', ()=>{
      document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));
      b.classList.add('active');
      const name = b.dataset.tab;
      document.querySelectorAll('section[id^="tab-"]').forEach(s=>s.hidden = s.id !== 'tab-' + name);
      if(name==='shop') renderTariffs();
      if(name==='wallet') updateATMUI();
      if(name==='tasks') renderTasks();
      if(name==='ref') $('#ref-my').textContent = 'REF'+(state.user.id||0);
    });
  });

  // ===== boot
  (function boot(){
    $('#u-name').textContent = '@'+(state.user.name);
    $('#ref-my').textContent = 'REF'+(state.user.id||0);
    renderTariffs(); updateCartUI(); updateATMUI();
  })();
</script>
</body>
</html>


